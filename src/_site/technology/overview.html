<!DOCTYPE html>
<html>
<head>
  <title> Technology Overview | Open Power Quality</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootswatch/3.1.0/cerulean/bootstrap.min.css">

  <!--  Load site-specific customizations after bootstrap. -->
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/gh-fork-ribbon.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans:normal,italic,bold">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.2.0/respond.js"></script>
  <![endif]-->

  <!-- Load Bootstrap JavaScript components -->
  <script src="http://code.jquery.com/jquery.min.js"></script>
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>

</head>
<body>
<!-- Responsive navbar -->
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <!--  Display three horizontal lines when navbar collapsed. -->
        <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand">Open Power Quality</a>
    </div>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li><a href="/index.html">Home</a></li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Technology<b class="caret"></b></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/technology/overview.html">Overview</a></li>
            <li><a href="/technology/quickstart.html">Quick Start</a></li>
            <li><a href="/technology/userguide.html">User Guide</a></li>
            <li><a href="/technology/developerguide.html">Developer Guide</a></li>
            <li><a href="/technology/case-studies.html">Case Studies</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">About us<b class="caret"></b></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/about/motivation.html">Why OPQ?</a></li>
            <li><a href="/about/team.html">The Team</a></li>
            <li><a href="/about/news.html">News</a></li>
            <li><a href="/about/contact.html">Contact us</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</div>

<div class="github-fork-ribbon-wrapper right">
  <div class="github-fork-ribbon">
    <a href="https://github.com/openpowerquality">Find OPQ on GitHub</a>
  </div>
</div>

<div class="container">
  <h1>Technology overview</h1>

<p>We develop OPQ hardware and software technology as a series of &quot;generations&quot;, each informally given the name of an Oahu surf spot by one of the developers. </p>

<h1>Generation 1: Pipeline</h1>

<p>Our first generation system named after the infamous North Shore break <a href="http://en.wikipedia.org/wiki/Banzai_Pipeline">Banzai Pipeline</a>.</p>

<h2>OPQBox design overview</h2>

<p>As our first generation technology, Pipeline&#39;s OPQBox has modest design goals:</p>

<ol>
<li>Unit price below $75</li>
<li>Easy to install and safe to operate</li>
<li>16/24 bit resolution and 50+ samples per grid cycle</li>
<li>Support for frequency, voltage, and THD measurement</li>
<li>Onboard processing and local storage</li>
<li>Inter-device synchronization via NTP</li>
</ol>

<p>The following image shows a block diagram of OPQBox:</p>

<p><img src="../images/hardware-block-diagram.png" class="center-block img-responsive"></p>

<p>In order to make our device safe to operate, it is galvanically isolated from the power grid via a UL-listed wall plug transformer. This transformer is used both for powering the meter and monitoring the power grid. The output of the transformer&#39;s secondary windings is passed through a low-pass filter which is responsible for scaling down the voltage to the analog-to-digital converter(ADC) range, as well as filtering out frequencies above 1Mhz. Furthermore this filter protects the sensitive inputs of the ADC.</p>

<p>The output of the filter is digitized using an ADC on an MSP430AFE microcontroller. This microcontroller is specifically designed for power metering. As illustrated below, we combine an analog front-end, a 24bit SAR ADC capable of sampling at 4kHz, and a 16bit MCU into a single integrated circuit to reduce the bill of materials. </p>

<p><img src="../images/board3.png" class="center-block img-responsive"></p>

<p>For our sensor network to scale, a significant amount of processing must be performed on the device itself. This includes power quality event detection, as well as buffering of historic data leading up to the event. Furthermore, event data needs to be uploaded to the cloud for further analysis. </p>

<p>For this generation, we use a Raspberry Pi single board computer for the main processing unit. The MSP430AFE sends digitized samples to the Raspberry Pi via the SPI protocol. Data is compared to the expected waveform, and if the deviation is significant, an event containing the raw data is send to the cloud via a USB 802.11 adapter. </p>

<p>We have designed a custom protocol for data transmission to reduce the bandwidth required \cite{opq-protocol}. The device and cloud service communicate using server-side events (SSE) over HTTP, which enables the device to be sent commands from the cloud even though it will be located behind a home wireless router.</p>

</div>

<div class="dark-blue-background">
  <footer>
    <div class="container page-footer">
      <p>The Open Power Quality Project is sponsored by the Department of Information and Computer Sciences, University of Hawaii, Honolulu, HI USA</p>
      <p>Last update on: <span>26 Jul 2014</span></p>
    </div>
  </footer>
</div>
</body>
</html>
